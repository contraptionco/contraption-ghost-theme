{{!--
Re-usable card for linking to posts in a grid layout
--}}
<article class="post group flex flex-col h-full bg-offwhite-dark border border-gray-100 hover:border-gray-300 hover:shadow-sm transition-all duration-500 ease-in-out">
  <a class="flex flex-col h-full no-underline" href="{{url}}">
    {{#if feature_image}}
      <div class="aspect-w-16 aspect-h-9 overflow-hidden">
        <picture>
          <source
            srcset="
            {{img_url feature_image size="xxs" format="avif"}} 30w,
            {{img_url feature_image size="xs" format="avif"}} 100w,
            {{img_url feature_image size="s" format="avif"}} 300w,
            {{img_url feature_image size="m" format="avif"}} 600w,
            {{img_url feature_image size="l" format="avif"}} 1200w,
            {{img_url feature_image size="xl" format="avif"}} 2000w"
            sizes="(min-width: 1200px) 33vw, (min-width: 768px) 50vw, 100vw"
            type="image/avif"
            {{^if @first}}loading="lazy"{{/if}}
          >
          <source
            srcset="
            {{img_url feature_image size="xxs" format="webp"}} 30w,
            {{img_url feature_image size="xs" format="webp"}} 100w,
            {{img_url feature_image size="s" format="webp"}} 300w,
            {{img_url feature_image size="m" format="webp"}} 600w,
            {{img_url feature_image size="l" format="webp"}} 1200w,
            {{img_url feature_image size="xl" format="webp"}} 2000w"
            sizes="(min-width: 1200px) 33vw, (min-width: 768px) 50vw, 100vw"
            type="image/webp"
            {{^if @first}}loading="lazy"{{/if}}
          >
          <img
            srcset="
            {{img_url feature_image size="xxs"}} 30w,
            {{img_url feature_image size="xs"}} 100w,
            {{img_url feature_image size="s"}} 300w,
            {{img_url feature_image size="m"}} 600w,
            {{img_url feature_image size="l"}} 1200w,
            {{img_url feature_image size="xl"}} 2000w"
            sizes="(min-width: 1200px) 33vw, (min-width: 768px) 50vw, 100vw"
            src="{{img_url feature_image size="m"}}"
            alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-[1.03]"
            {{^if @first}}loading="lazy"{{/if}}
          >
        </picture>
      </div>
    {{else}}
      <div class="aspect-w-16 aspect-h-9 bg-gray-075"></div>
    {{/if}}
    <div class="flex flex-col flex-grow p-5 border-t border-gray-100 relative">
      <time datetime="{{date format="YYYY-MM-DD"}}" class="font-mono text-xs font-medium tracking-[0.12em] uppercase text-gray-500 mb-2">
        {{date format="YYYY-MM-DD"}}
      </time>
      <h2 class="font-sans text-lg font-semibold text-gray-950 group-hover:text-forest transition-colors duration-500 mb-2">{{title}}</h2>
      {{#if custom_excerpt}}
        <p class="font-serif text-sm text-gray-600 line-clamp-3">{{custom_excerpt}}</p>
      {{/if}}
      <div class="absolute bottom-4 right-4 opacity-0 transform translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-500 ease-in-out text-forest w-4 h-4">
        {{> "icons/arrow-right"}}
      </div>
    </div>
  </a>
</article>

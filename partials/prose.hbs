{{!--
Re-usable card for linking to posts
--}}
<article class="gh-card {{post_class}} pt-8 pb-16 md:pb-24 lg:pb-36">

  <!-- Header -->
  <div class="container">
    <div class="flex flex-col items-center text-gray-950 text-center mx-auto max-w-3xl">
      {{#is "post"}}
      <!-- date -->
      <time datetime="{{date format="YYYY-MM-DD"}}"
        class="block font-mono text-xs font-medium tracking-[0.12em] uppercase text-gray-500 pb-2">
        {{date format="YYYY-MM-DD"}}
      </time>
      {{/is}}
      <!-- title -->
      <a href="{{url}}" class="block pb-4 md:pb-6">
        <{{#if h1}}h1{{else}}h2{{/if}}
          class="font-sans font-semibold text-3xl leading-8 tracking-tight text-gray-950 sm:text-4xl md:text-5xl lg:text-6xl text-pretty">
          {{title}}
        </{{#if h1}}h1{{else}}h2{{/if}}>
      </a>
      <!-- Excerpt -->
      {{#if custom_excerpt}}
      <div class="font-serif text-gray-600 text-lg sm:text-xl md:text-2xl max-w-prose mx-auto pb-4 md:pb-6 leading-relaxed text-balance">
        {{custom_excerpt}}
      </div>
      {{/if}}

      {{#is "post"}}
      <!-- Author(s) -->
      <div class="flex flex-row items-center space-x-4">
        {{#foreach authors}}
        <a class="flex flex-row items-center space-x-3 group" href="{{website}}" target="_blank" rel="noopener">
          {{#if profile_image}}
          <img src="{{profile_image}}" alt="{{name}}" class="w-9 h-9 rounded-full">
          {{else}}
          <div class="gh-author-icon">{{> icons/avatar}}</div>
          {{/if}}
          <span class="font-sans text-sm font-medium text-gray-600 group-hover:text-forest transition-colors duration-300">{{name}}</span>
        </a>
        {{/foreach}}
      </div>
      {{/is}}

    </div>
  </div>

  {{#if feature_image}}
  <div class="container pt-12">
    <div class="w-full overflow-hidden" style="aspect-ratio: 3/2;">
      <picture class="w-full">
        <source srcset="
                    {{img_url feature_image size="xxs" format="avif"}} 30w, {{img_url feature_image size="xs"
          format="avif"}} 100w, {{img_url feature_image size="s" format="avif"}} 300w, {{img_url feature_image size="m"
          format="avif"}} 600w, {{img_url feature_image size="l" format="avif"}} 1200w, {{img_url feature_image
          size="xl" format="avif"}} 2000w" {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"
          {{else}}sizes="(min-width: 800px) 100vw, 700px" {{/if}} type="image/avif" {{^if @first}}loading="lazy" {{/if}}>
        <source srcset="
                    {{img_url feature_image size="xxs" format="webp"}} 30w, {{img_url feature_image size="xs"
          format="webp"}} 100w, {{img_url feature_image size="s" format="webp"}} 300w, {{img_url feature_image size="m"
          format="webp"}} 600w, {{img_url feature_image size="l" format="webp"}} 1200w, {{img_url feature_image
          size="xl" format="webp"}} 2000w" {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"
          {{else}}sizes="(min-width: 800px) 100vw, 700px" {{/if}} type="image/webp" {{^if @first}}loading="lazy" {{/if}}>
        <img srcset="
                    {{img_url feature_image size="xxs"}} 30w, {{img_url feature_image size="xs"}} 100w, {{img_url
          feature_image size="s"}} 300w, {{img_url feature_image size="m"}} 600w, {{img_url feature_image size="l"}}
          1200w, {{img_url feature_image size="xl"}} 2000w" {{^if @first}}sizes="(min-width: 1200px) 1200px, 100vw)"
          {{else}}sizes="(min-width: 800px) 100vw, 700px" {{/if}} src="{{img_url feature_image size="m"}}"
          alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}" class="cover w-full h-full object-cover" {{^if
          @first}}loading="lazy" {{/if}}>
      </picture>
    </div>
  </div>
  {{/if}}

  <div class="container pt-16">
    <section class="prose prose-xl font-serif mx-auto max-w-2xl">
      {{content}}
    </section>
  </div>
</article>
